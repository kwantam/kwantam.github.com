---
published: true
---
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>kwantam.github.com</title>
    <link href='http://fonts.googleapis.com/css?family=Brawler' rel='stylesheet' type='text/css' />
    <link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css' />
    <link href='css/main.css' rel='stylesheet' type='text/css' />
    <link href='css/pygments.css' rel='stylesheet' type='text/css' />
    <link href='images/favicon.png' rel='SHORTCUT ICON' />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<h1>kwantam.github.com</h1>

<h3>Snippets</h3>
<h4>or, my irregularly updated code blog</h4>
<dl><dt>2011 June 17</dt>
    <dd>A <a href="http://www.nyx.net/~gthompso/quine.htm">quine</a> in Scheme derived via the <a href="http://blog.jfet.org/2009/06/14#2009061401">applicative-order Y-combinator:</a><br/>
{% highlight scheme %}
    ((eval '(lambda (x) (pp `((eval '(lambda (x) (pp ,x))) ',x))))
           '`((eval '(lambda (x) (pp ,x))) ',x))
{% endhighlight %}
    </dd>
    <dt>2013 March 10</dt>
    <dd>A meditation on <a href="IllegalStates.html">efficiently detecting illegal states in twisted-ring FSM state vectors</a>. Literate Haskell is a beautiful thing.</dd>
</dl>

<h3>Projects</h3>

<h3><code><a href="http://github.com/kwantam/lviv">lviv</a></code></h3>
<p><code>lviv</code> is a hybrid functional/stack programming language. Here's some example code:</p>

{% highlight scheme %}
; qsort.lviv
; quicksort implemented in lviv

; filter2
; given a predicate in slot 0 and a list in slot 1
; filter the list into two lists, one for which the
; predicate is true and one for which it is false
( (*tList *fList) ; if the list is null, return the true and false lists
  (*lList uncons (*tList cons *fList) ; otherwise, take the first element, cons it to tlist
                 (*fList cons *tList swap) ; or flist as appropriate
                 3 pick *pred apply if ; (test whether to cons to tList or fList)
   3 roll ***pred eval *filt2Hlp) ; then get the stack back in order and call again
  *lList null? if ) ; (test whether list is null)
(*tList *fList *lList *pred) lambda *filt2Hlp define

( () () *lList **pred eval *filt2Hlp ) ; call the helper function with empty tList and fList
(*lList *pred) lambda *filt2 define

; qsort: use the first element of the list as the pivot
; filter the list and qsort the resulting lists
( (*lList) ; if it's 0 or 1 elm long, just return it
  (*lList uncons dup 3 unroll ; otherwise, get the next pivot, save off the pivot
   (***n <) cons (***n) lambda filt2    ; filter the list into greater and lesser lists
   *qsort swap                          ; sort the first part
   *qsort 3 roll :cons                  ; sort the second part, then replace the pivot
   append                               ; append them, and we are sorted
  )
  (#t) (*lList cdr null?) *lList null? if if )
(*lList) lambda *qsort define
{% endhighlight %}

<h3><a href="http://github.com/kwantam/TriHs">TriHs</a></h3>
<p>A Tetris clone in Haskell using Cairo and Gtk2Hs. In 2-player mode, you can screw with your opponent by switching their next piece for a random one.</p>
<blockquote>
<img src="http://web.jfet.org/~kwantam/ego/TriHs-2p.png" width="852" height="626" alt="TriHs" />
</blockquote>

<h3><a href="http://github.com/kwantam/BC">BC</a></h3>
<p>A ballistic calculator for Maemo5 using the <a href="http://sourceforge.net/projects/ballisticslib/">GNU Ballistics Library</a>.</p>

<h3><a href="http://github.com/kwantam/synthres">synthres</a></h3>
<p>Generate a series-parallel network of unit-sized resistors that synthesize an arbitrary resistance value.</p>
<blockquote>
<img src="http://github.com/kwantam/synthres/raw/master/8.7kres.gif" width="308" height="144" alt="8.7k resistor" />
</blockquote>
<p>Now there are two versions of this code: the original one in Perl, and a new implementation in Haskell that can search for a more optimal implementation and render the result as an SVG, like so:</p>
<blockquote>
<img src="http://github.com/kwantam/synthres/raw/master/8.7kres_optimal.gif" width="668" height="164" alt="8.7k resistor, optimized" />
</blockquote>
<p>See <a href="http://github.com/kwantam/synthres/blob/master/README.md">README.md</a> for more info.</p>

<h3><a href="http://github.com/kwantam/resgrad">resgrad</a></h3>
<p>Generate optimal 2d resistor pack layout for N:1/N ratioed resistors in the presence of linear gradients in X and Y.</p>
<blockquote>
<img src="images/resgrad.png" width="420" height="560" alt="resistor pack optimized for gradient minimization" />
</blockquote>

<h3><a href="http://github.com/kwantam/sousvide628">sousvide628</a></h3>
<p>Some rudimentary code to use a <a href="http://www.microchip.com/wwwproducts/Devices.aspx?dDocName=en010210">PIC16F628a</a> to control a heater and pump for Sous-vide.</p>

<p class="footnote">Questions? Comments?<br />
<a href="http://twitter.com/kwantam">@kwantam</a> | &lt;<a href="mailto:kwantam@gmail.com">kwantam@gmail.com</a>&gt; | <a href="http://github.com/kwantam">github</a></p>
</body>
</html>
